# Database Configuration (using shared PostgreSQL server)
DATABASE_PASSWORD={{ pillar.get('heimdall2', {}).get('database_password', 'changeme123!') }}
DATABASE_HOST={{ pillar.get('heimdall2', {}).get('database_host', 'postgres') }}
DATABASE_NAME={{ pillar.get('heimdall2', {}).get('database_name', 'heimdall2') }}
DATABASE_USERNAME={{ pillar.get('heimdall2', {}).get('database_user', 'heimdall2_user') }}
DATABASE_PORT=5432

# NGINX Configuration
NGINX_HOST={{ pillar.get('heimdall2', {}).get('nginx_host', 'localhost') }}

# Heimdall2 Configuration
NODE_ENV=production

# JWT and API Key Secrets
JWT_SECRET={{ pillar.get('heimdall2', {}).get('jwt_secret', 'changeme_jwt_secret_key') }}
API_KEY_SECRET={{ pillar.get('heimdall2', {}).get('api_key_secret', 'heimdall_api_secret_key_change_this') }}

# Optional: LDAP Configuration
{% if pillar.get('heimdall2', {}).get('ldap_enabled', False) %}
LDAP_ENABLED=true
LDAP_HOST={{ pillar.get('heimdall2', {}).get('ldap_host', '') }}
LDAP_PORT={{ pillar.get('heimdall2', {}).get('ldap_port', 389) }}
LDAP_BINDDN={{ pillar.get('heimdall2', {}).get('ldap_binddn', '') }}
LDAP_PASSWORD={{ pillar.get('heimdall2', {}).get('ldap_password', '') }}
LDAP_SEARCHBASE={{ pillar.get('heimdall2', {}).get('ldap_searchbase', '') }}
LDAP_SEARCHFILTER={{ pillar.get('heimdall2', {}).get('ldap_searchfilter', '') }}
{% endif %}